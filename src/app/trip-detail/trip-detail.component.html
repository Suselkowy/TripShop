<div class="trip__card">
<div class="trip__info column column--1">
    <div class="btn__back" routerLink="/trips" routerLinkActive="active"><i class="fa-solid fa-arrow-left"></i>Back</div>
    <figure class="trip__image__container" routerLink="/trips/{{data.id}}" routerLinkActive="active">
        <img [src]=data.imgLink[currSlide] alt="" class="trip__image">
        <div class="arrow arrow--left" (click)="prevSlide()"><i class="fa-solid fa-angle-left"></i></div>
        <div class="arrow arrow--right" (click)="nextSlide()"><i class="fa-solid fa-chevron-right"></i></div>
    </figure>

   
</div>
<div class="column column--2">
    <p>Name: {{data.name | uppercase }}</p>
    <p>Country: {{data.destCountry | uppercase }}</p>
    <p>Date of start: {{data.startDate | date}}</p>
    <p>Date of end: {{data.endDate | date}}</p>
    <div class="trip__raiting__container">
        <p>Rating:</p>
        <div class="trip__raiting">
            <app-trip-raiting [reviews]=data.reviews [tripId]="data.id" [showTotal]="true"></app-trip-raiting>
        </div>
    </div>
    <hr class="line">
    <p class="price">{{data.price | currency }}</p>
    <div class="trip__reservation" *ngIf="data.availableTrips > 0">
        <div class="reservation__holder noselect"><div class="reservation__button reservation__button--subtract" [ngClass]="{'hidden': data.amount <= 0 }" (click)="subtractTrip()" (click)="addToCart()">-</div></div>
        <div class="reservation__number noselect" [ngClass]="{'lowTripsLeft': tripsLeft() <= 3}">{{data.amount}}</div>
        <div class="reservation__holder noselect"><div class="reservation__button reservation__button--add" [ngClass]="{'hidden': data.amount >= data.availableTrips }" (click)="addTrip()" (click)="addToCart()">+</div></div>
    </div>
    <div class="trip__reservation" *ngIf="data.availableTrips == 0">
        <div class="reservation__number noselect nostock">Trip out of stock</div>
    </div>
</div>
</div>

<div class="trip__description">
<h1>Description</h1>

<p class="trip__desc">{{data.description}}</p>
</div>

<div class="trip__form">
    <app-trip-review [tripId]="passTripId()" [reviews]=data.reviews (addReviewParent)="addReview($event)"></app-trip-review>
</div>


